2001-06-02  Sven Neumann  <sven@gimp.org>

	* tips/gimp_conseils.fr.txt
	* tips/gimp_tips.de.txt
	* tips/gimp_tips.txt: fixed an error pointed out by Branko Collin:
	Bucket Fill tool uses BG color when pressing Ctrl, not Shift. Someone
	needs to fix the other languages.

2001-05-22  Sven Neumann  <sven@gimp.org>

	* autogen.sh: allow for automake 1.4-p1 and similar version numbers.
	(fix ported from HEAD branch)
	
	* app/module_db.c: applied a patch from Austin Donnelly that fixes 
	bug #55050 (button without label in Module Browser).

2001-05-06 Garry R. Osgood <grosgood@rcn.com>

	* app/histogram_tool.c:
	histogram_tool_initialize() now aligns its option menu
	and internal state to GIMP_HISTOGRAM_VALUE when it is
	given a channel. Prior, only hid option menu, causing
	crash reported in #54131 when internals attempted to
	generate histogram on non-existent drawable component. 
	Closes #54131.

2001-04-24  Michael Natterer  <mitch@gimp.org>

	Plugged some memleaks:

	* app/gimpbrush.c: don't leak all pixmaps.

	* app/gimpbrushpipe.c: free all the pipe's brushes here.

2001-04-23  Sven Neumann  <sven@gimp.org>

	* plug-ins/perl/examples/terral_text: fixed syngin's fix

	* plug-ins/perl/examples/image_tile
	* plug-ins/perl/examples/yinyang: 
	applied gimp-kirchgessner-010422-0.patch which fixes problems with 
	invalid number of parameters passed to some functions.

	* plug-ins/script-fu/interp_sliba.c: fixed problems with strbreakup 
	reported by Mike Kelly <mike@csuchico.edu> (bugs #52383 and #52385)

2001-04-23  Mel Boyce  <syngin@gimp.org>

	* plug-ins/perl/examples/terral_text: Fixed typo.

Sat Apr 21 17:04:34 PDT 2001 Manish Singh <yosh@gimp.org>

	* acinclude.m4: updated libtool stuff

	* configure.in: more #undefs so jpeglib.h test works

	* plug-ins/common/bumpmap.c: speedup patch from Ernst Lippe
	<ernstl@planet.nl> (tile cache size optimization)

2001-04-11  Stanislav Brabec  <utx@penguin.cz>

	On request of Martin Weber <martweb@gmx.net>:
	* plug-ins/bmp/bmpread.c:
	GIMP couldn't read bmp files with a ba chunk. This kind of files 
	can be found in OS/2 1.x.

2001-04-10  Sven Neumann  <sven@gimp.org>

	* app/posterize.c
	* plug-ins/common/fractaltrace.c
	* plug-ins/common/illusion.c
	* plug-ins/flame/flame.c
	* plug-ins/gfig/gfig.c
	* plug-ins/gimpressionist/general.c
	* plug-ins/imagemap/imap_cmd_guides.c
	* plug-ins/mosaic/mosaic.c
	* plug-ins/winsnap/winsnap.c: applied a patch from Iccii that marks a 
	few leftover strings for translation. People, update your translations!

2001-04-08  Sven Neumann  <sven@gimp.org>

	* plug-ins/bmp/bmp.c
	* plug-ins/common/jpeg.c
	* plug-ins/common/mpeg.c
	* plug-ins/common/png.c
	* plug-ins/common/tiff.c
	* plug-ins/common/xpm.c
	* plug-ins/script-fu/script-fu.c
	* plug-ins/twain/twain.c
	* plug-ins/winsnap/winsnap.c: s/INIT_I18N/INIT_I18N_UI/. Should
	fix problems with font encodings for russian users (and probably
	others).

2001-04-06  Stanislav Brabec  <utx@penguin.cz>

        On request of Martin Weber <martweb@gmx.net>:
        * plugins/common/tga.c: Fixed bug #52728 - problem in loading
	compressed and uncompressed 15 bit tga, compressed 16 bit tga
	files and removed a false warning for 32 bit tga files.

2001-04-03  Matt Wilson  <msw@redhat.com>

	* libgimp/gimp.c (gimp_main): _always_ set up the other locale
	categories, otherwise many C libraries will blow away characters
	outside of the POSIX charset.  Still use the C locale for
	LC_NUMERIC, though. r: yosh@gimp.org

2001-03-22  Stanislav Brabec  <utx@penguin.cz>

        * app/bucket_fill.c: Bucket fill threshold=0 must be allowed.

2001-03-15  Sven Neumann  <sven@gimp.org>

	* plug-ins/common/screenshot.c: applied patch from 
	Tom Holroyd <tomh@po.crl.go.jp> which fixes wrong array size.

2001-03-13  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "tr" to ALL_LINGUAS.

2001-03-12  Tor Lillqvist  <tml@iki.fi>

	* libgimp/makefile.msc: Add missing object files. The import
	library for the intl library is now called just intl.

	* libgimp/makefile.msc (gimpi_OBJECTS): Typo.

	* app/makefile.msc (gimp_OBJECTS): Remove objects corresponding to
	removed source files. Update name of import library for the intl
	library. Add missing objects.

	* app/gimpbrush.c
	* app/gimpbrushpipe.c
	* app/patterns.c: Include <glib.h> early for G_OS_WIN32.

	* app/dialog_handler.h: Change the #ifdef logic: Declare
	dialog_register and dialog_unregister always, but mark for export
	only when compiling dialog_handler.c. That way MSVC won't complain
	when dialog_handler.c calls dialog_unregister without it
	being defined, and also the declarations and definitions will
	have identical attributes (both marked for export). Whew. Gcc
	is a bit less picky, it accepts a declaration that isn't marked
	for export even if the definition is.

	* app/dialog_handler.c: Change comment correspondingly.

2001-03-11  Daniel Egger  <egger@suse.de>

	* plug-ins/common/sobel.c: Applied patch from
	Austin Donnelly to fix rendering of the topmost
	scanline.

2001-03-11  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/winclipboard.c: Enhance to also be able to paste
	BI_BITFIELDS images, 16- or 32-bit. Global indentation and spacing
	fix (use cvs diff -bu2 to see the real differences).

2001-03-10  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/makefile.mingw.in: Add some missing standard plug-ins,
	and some new unofficial ones. Don't define -Drandom=g_random_int,
	the RAND_FUNC in config.h.win32 takes care of this. Define GIMP
	for mathmap.

	* user_install.bat: Copy the default palettes to the user's
	palette directory.

	* app/dialog_handler.c: Define __DIALOG_HANDLER_C_, not
	__DIALOG_HANDLER_C__, to match the #ifndef in
	dialog_handler.h. Add comment why __DIALOG_HANDLER_C_ is needed.

2001-03-04  Zbigniew Chyla  <cyba@gnome.pl>

	* app/commands.c (image_scale_callback),
	libgimp/gimpchainbutton.c (gimp_chain_button_destroy),
	libgimp/gimpcolorbutton.c (gimp_color_button_destroy):
	Move variable assignments out of assertions to allow compilation
	with "G_DISABLE_ASSERT" and/or "G_DISABLE_CHECKS" defined.

2001-03-04  Sven Neumann  <sven@gimp.org>

	* app/preferences_dialog.c (prefs_save_callback): applied a patch
	from David Odin <David.Odin@bigfoot.com> that fixes a typo in the code.

2001-03-01  Daniel Egger  <egger@suse.de>

	* ChangeLog:
	* ChangeLog.pre-1-2: Move the pre-1.2 changes out
	to their own new file.

2001-03-01  Daniel Egger  <egger@suse.de>

	* app/fileops.c: Applied fix from Dave Neary to fix
	bug #37633 "File->Revert doesn't resize canvas". Not
	the best fix but quite effective.

2001-03-01  Stanislav Brabec  <utx@penguin.cz>

        * plugins/common/despeckle.c: Fixed black_level range.
        Valid range should be -1..255, not 0..256, because comaparison
	is > and <=. Bug became visible after last Martin Weber's fix.
        There must be for both black and white levels one extra value
	to cover all numbers 0..255.

2001-02-27  Sven Neumann  <sven@gimp.org>

	* plug-ins/common/header.c: applied patch from Chuck Mason 
	<chuckjr@unbounded.com> that fixes wrong output of header plug-in.

2001-02-10  Stanislav Brabec  <utx@penguin.cz>

        On request of Martin Weber <martweb@gmx.net>.
	* plugins/common/despeckle.c: Fixed comparison *sort_ptr > black_level.
	Only adopting white_level had a visual effect. This fix causes
	that also adopting blck_level works also.

2001-02-07  Daniel Egger  <egger@suse.de>

        * configure.in: Changed link order in gtkxmhtml check
	to fix bug #12653.
		
2001-02-06  Sven Neumann  <sven@gimp.org>

	* data/brushes/hsparks.gih
	* data/brushes/vine.gih: seems we had forgotten to convert these
	to the new format.

2001-02-05  Jay Cox  <jaycox@gimp.org>

	* app/gimphistogram.c: Applied patches by Roel Schroeven
	<rschroev@yahoo.com> that fix histogram with mask calculation bug and
	median calculation bug.

2001-02-03  Christophe Merlet  <redfox@eikonex.org>

	* tips/gimp_conseils.fr.txt: Updated with suggestions from
	Gérard Delafond <g.delafond@medsyn.fr>

2001-01-30  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added "nn" to ALL_LINGUAS.
	
2001-01-28  Asbjorn Pettersen  <asbjornP@dualog.no>

	* modules/gimpmodregister.h: add #include <libgimp/gimptypes.h>
	* plug-ins/common/bz2.c (load_image): fix bug loading bz2 files (OS/2)
	* app/module_db.c: OS/2 fix. remove gimp_color_display_register(),,

2001-01-24  Sven Neumann  <sven@gimp.org>

	* libgimp/gimpwidgets.c: fixed wrong for-loop boundary that caused 
	the gimp_mem_size_entry not to accept values larger than 1023 MB.

Sun Jan 21 21:54:57 PST 2001 Manish Singh <yosh@gimp.org>

	* Made 1.2.1 release

2001-01-22  Michael Natterer  <mitch@gimp.org>

	* app/gimphelp.c: disabled debugging output.

2001-01-20  Michael Natterer  <mitch@gimp.org>

	* app/palette.c: plugged memory leaks.

2001-01-17  Sven Neumann  <sven@gimp.org>

	* INSTALL: updated and changed .gimp to .gimp-1.2
	
	* configure.in: changed .gimp to .gimp-1.2

Mon Jan 15 17:17:33 PST 2001 Manish Singh <yosh@gimp.org>

	* app/fileops.c: correct spelling of "lose" in revert dialog

2001-01-15  Sven Neumann  <sven@gimp.org>

	* gimp.spec.in: corrected FTP location of gimp

2001-01-14  Sven Neumann  <sven@gimp.org>

	* HACKING: added note about autogenerated files (merged from HEAD)

2001-01-14  Sven Neumann  <sven@gimp.org>

	* app/menus.c
	* app/plug-in.c: added some sanity checks for passed string pointers
	to various public functions in an attempt to fix bug #37622. I'm not
	sure if this fixes the bug since I can not reproduce it.

2001-01-12  Sven Neumann  <sven@gimp.org>

	* plug-ins/common/sharpen.c: applied a patch from Jerome Zago 
	<jzago@ifhamy.insa-lyon.fr> that fixes a longstanding bug in the
	sharpen filter which sometimes got the last line wrong. 
	Fixes bug #34155

2001-01-11  Sven Neumann  <sven@gimp.org>

	* plug-ins/common/aa.c: removed .html from the list of file extensions
	since it clashes with the GTM plug-in.

2001-01-10  Sven Neumann  <sven@gimp.org>

	* plug-ins/ifscompose/ifscompose.c: blue is (0,0,1), not (0,0,2)

2001-01-10  Szabolcs Ban

	* plug-ins/MapObject/mapobject_ui.c: fixed typo. 
	s/Treshold/Threshold/

2001-01-09  Sven Neumann  <sven@gimp.org>

	* app/gimpbrushlist.c
	* app/gradient.c
	* app/palette.c
	* app/patterns.c: check for NULL pointers before doing strcmp on
	default names. The default names for brushes, patterns, ... can 
	be NULL if they were not set in a readable gimprc file.

	* app/gimprc.c: warn the user if the systemwide gimprc couldn't be
	read.

2001-01-04  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/script-fu/scripts/title-header.scm (script-fu-title-header):
	Correct args to gimp-color-picker. Thanks to Piet van Oostrum.

2001-01-03  Michael Natterer  <mitch@gimp.org>

	* app/levels.c: reverted the behaviour of the "Reset" button back
	to resetting the current channel only. Resetting all channels was
	broken and IMHO cannot work the way it was implemented.

2001-01-02  Simon Budig  <simon@gimp.org>

	* app/paint_core.c: use floor() before casting to gint when 
	calculating the current brush coordinates. Fixes the jagged brush 
	stroke when stroking a path that leaves the image at the top or left
	edge (bug #6043).
	
2001-01-02  Michael Natterer  <mitch@gimp.org>

	* app/gimphelp.c (gimp_idle_help): s/welcome.html/introduction.html/
	Fixes #36456.

2001-01-01  Michael Natterer  <mitch@gimp.org>

	* plug-ins/gdyntext/gdyntextcompat.h: also check for GIMP's minor
	version when deciding if to add a missing PDB wrapper.

2000-12-31  Sven Neumann  <sven@gimp.org>
            Simon Budig <simon@gimp.org>

	* app/gimpbrush.c
	* plug-ins/common/gih.c: explicitely cast offset to (off_t) when 
	seeking back. Should fix the problems reading grayscale BrushPipes 
	on IRIX.

2000-12-29  Tor Lillqvist  <tml@iki.fi>

	* config.h.win32: RAND_FUNC must not return negative values. Can't
	use g_random_int as is, must use g_random_int_range (0, G_MAXINT).

	* plug-ins/flame/cmap.c: Include glib.h for G_MAXINT.

2000-12-29  Simon Budig   <simon@gimp.org>

	* modules/colorsel_triangle.c  Argh - converting 16bit colors
	(from DnD-Source) to 8 bit must not be done by dividing by 0xff (255)!
	divide by 256 instead...

2000-12-29  Tor Lillqvist  <tml@iki.fi>

	* app/makefile.mingw.in: Build as a windowing application (-mwindows).

	* app/gimp.sym: Remove the color display functions that are gone.

	* plug-ins/makefile.mingw.in: Build two versions of the tiff
	plug-in: tiff (with TIFF_LZW_LIBS), and tiff_nolzw (with
	TIFF_NOLZW_LIBS).

2000-12-28  Sven Neumann  <sven@gimp.org>

	* app/channel.c
	* app/layer.c: use gtk_object_sink() instead of gtk_object_unref()
	when deleting a layer or channel since only floating objects should
	be destroyed this way. A layer or channel that has been attached
	to an image shall never be deleted.
	
	* app/layer_cmds.c
	* libgimp/gimplayer_pdb.c
	* tools/pdbgen/pdb/layer.pdb: reenabled the gimp_layer_delete() PDB
	function since it might be useful under rare circumstances.
	
2000-12-28  Sven Neumann  <sven@gimp.org>

	* app/channel_cmds.c
	* app/layer_cmds.c
	* libgimp/gimpchannel_pdb.c
	* libgimp/gimplayer_pdb.c
	* plug-ins/common/warp.c
	* plug-ins/gap/gap_exchange_image.c
	* plug-ins/gap/gap_range_ops.c
	* plug-ins/perl/examples/bricks
	* plug-ins/perl/examples/glowing_steel
	* tools/pdbgen/pdb/channel.pdb
	* tools/pdbgen/pdb/layer.pdb

	Two of the gimp-perl scripts used to call gimp_layer_delete() after
	gimp_image_remove_layer(). This will fail since the layer is already 
	scheduled for destruction by removing it from the associated image or
	by deleting that image. It is thus dangerous and superfluous to export
	this feature through the PDB. The gimp_layer_delete() is hereby
	obsolete and does nothing any longer. I have removed the code calling
	it from all over the place (it was commented out in almost all places).

	The PDB help for gimp_channel_delete() now explicetly tells the user 
	about the proper usage of the procedure.
	
2000-12-27  Michael Natterer  <mitch@gimp.org>

	* plug-ins/common/csource.c: the size of the string holding the
	image data was one byte too short (we forgot the trailing '\0').
	Reported by <goswin.brederlow@student.uni-tuebingen.de>

2000-12-27  Michael Natterer  <mitch@gimp.org>

	* app/gimpimage.c: gimp_image_merge_layers(): apply the layer mask
	only if layer->apply_mask is TRUE.

2000-12-27  Michael Natterer  <mitch@gimp.org>

	* app/layers_dialog.c: layers_dialog_scroll_index(): don't fiddle
	around with magic numbers when calculating the layer widget's
	height but simply ask one of them for it's allocation.  Fixes
	positioning when the preview is smaller than the layer widget list
	item.

2000-12-27  Tomas Ogren  <stric@ing.umu.se>

	* plug-ins/ifscompose/ifscompose_storage.c: Remove the last comma in
	  an enum, xlc barfs

Tue Dec 26 11:10:23 PST 2000 Manish Singh <yosh@gimp.org>

	* app/patterns.c: fix fd leak on loading

Sun Dec 24 23:18:32 PST 2000 Manish Singh <yosh@gimp.org>

	* Made 1.2.0 release
